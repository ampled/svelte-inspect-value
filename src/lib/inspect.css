:root {
  .dracula {
    /* dracula */
    --base00: #282a36;
    --base01: #3a3c4e;
    --base02: #44475a;
    --base03: #6272a4;
    --base04: #8be9fd;
    --base05: #f8f8f2;
    --base06: #f1f2f8;
    --base07: #f7f7fb;
    --base08: #ea51b2;
    --base09: #bd93f9;
    --base0A: #62d6e8;
    --base0B: #f1fa8c;
    --base0C: #a1efe4;
    --base0D: #00f769;
    --base0E: #bd93f9;
    --base0F: #009e45;
  }

  .monokai {
    /* monokai */
    --base00: #272822;
    --base01: #383830;
    --base02: #49483e;
    --base03: #75715e;
    --base04: #a59f85;
    --base05: #f8f8f2;
    --base06: #f5f4f1;
    --base07: #f9f8f5;
    --base08: #f92672;
    --base09: #fd971f;
    --base0A: #f4bf75;
    --base0B: #a6e22e;
    --base0C: #a1efe4;
    --base0D: #66d9ef;
    --base0E: #ae81ff;
    --base0F: #cc6633;
  }

  .solarized-dark {
    /** solarized dark */
    --base00: #002b36;
    --base01: #073642;
    --base02: #586e75;
    --base03: #657b83;
    --base04: #839496;
    --base05: #93a1a1;
    --base06: #eee8d5;
    --base07: #fdf6e3;
    --base08: #dc322f;
    --base09: #cb4b16;
    --base0A: #b58900;
    --base0B: #859900;
    --base0C: #2aa198;
    --base0D: #268bd2;
    --base0E: #6c71c4;
    --base0F: #d33682;
  }

  .default-dark {
    --base00: #181818;
    --base01: #282828;
    --base02: #383838;
    --base03: #585858;
    --base04: #b8b8b8;
    --base05: #d8d8d8;
    --base06: #e8e8e8;
    --base07: #f8f8f8;
    --base08: #ab4642;
    --base09: #dc9656;
    --base0A: #f7ca88;
    --base0B: #a1b56c;
    --base0C: #86c1b9;
    --base0D: #7cafc2;
    --base0E: #ba8baf;
    --base0F: #a16946;
  }

  .drak {
    /* drak */
    --base00: #282a36;
    --base01: #3a3c4e;
    --base02: #44475a;
    --base03: #6272a4;
    --base04: #8be9fd;
    --base05: #f8f8f2;
    --base06: #f1f2f8;
    --base07: #f7f7fb;
    --base08: #ea51b2; /* red */
    --base09: #ffb86c; /* orange */
    --base0A: #f1fa8c; /* yellow */
    --base0B: #50fa7b; /* green */
    --base0C: #a1efe4; /* cyan */
    --base0D: #62d6e8; /* blue */
    --base0E: #bd93f9; /* purp */
    --base0F: #009e45;
  }

  .default-light {
    --base00: #e8e8e8;
    --base01: #d8d8d8;
    --base02: #f8f8f8;
    --base03: #b8b8b8;
    --base04: #585858;
    --base05: #383838;
    --base06: #282828;
    --base07: #181818;
    --base08: #ab4642;
    --base09: #dc9656;
    --base0A: #f7ca88;
    --base0B: #a1b56c;
    --base0C: #86c1b9;
    --base0D: #7cafc2;
    --base0E: #ba8baf;
    --base0F: #a16946;
  }

  .cotton-candy {
    --base00: #ca71c6;
    --base01: #fa71ed;
    --base02: #f8f8f8;
    --base03: #e7a6ff;
    --base04: #fca8ff;
    --base05: #8732a5;
    --base06: #282828;
    --base07: #181818;
    --base08: #ab4642;
    --base09: #dc9656;
    --base0A: #d1c58b;
    --base0B: #a1b56c;
    --base0C: #86c1b9;
    --base0D: #7cafc2;
    --base0E: #ba8baf;
    --base0F: #a16946;
  }

  /*
        base00  #181818  Default Background
        base01  #282828  Lighter Background (Used for status bars, line number and folding marks)
        base02  #383838  Selection Background
        base03  #585858  Comments, Invisibles, Line Highlighting
        base04  #b8b8b8  Dark Foreground (Used for status bars)
        base05  #d8d8d8  Default Foreground, Caret, Delimiters, Operators
        base06  #e8e8e8  Light Foreground (Not often used)
        base07  #f8f8f8  Light Background (Not often used)
        base08  #ab4642  Variables, XML Tags, Markup Link Text, Markup Lists, Diff Deleted
        base09  #dc9656  Integers, Boolean, Constants, XML Attributes, Markup Link Url
        base0A  #f7ca88  Classes, Markup Bold, Search Text Background
        base0B  #a1b56c  Strings, Inherited Class, Markup Code, Diff Inserted
        base0C  #86c1b9  Support, Regular Expressions, Escape Characters, Markup Quotes
        base0D  #7cafc2  Functions, Methods, Attribute IDs, Headings
        base0E  #ba8baf  Keywords, Storage, Selector, Markup Italic, Diff Changed
        base0F  #a16946  Deprecated, Opening/Closing Embedded Language Tags, e.g. <?php ?>
    */

  .ampled-json-inspect {
    --cyan: var(--base0C, #00c1be);
    --yellow: var(--base0A, #e1ff7f);
    --green: var(--base0B, #5faa70);
    --red: var(--base08, #b03a3a);
    --purple: var(--base0E, #8f42ae);
    --blue: var(--base0D, #6a6ace);
    --orange: var(--base09, #c6903a);

    --bg: var(--base00, #0e0026);
    --bg-lighter: var(--base01, #250060);
    --bg-light: var(--base07);
    --selection: var(--base02);
    --comments: var(--base03, #59456e);
    --border-color: var(--base03, var(--comments));
    --dark-fg: var(--base04);
    --fg: var(--base05, #b9a9be);
    --fg-light: var(--base06);

    --error: var(--red);
    --delimiter: var(--red);
    --keyword: var(--red);
    --number: var(--purple);
    --number-type: var(--red);
    --boolean: var(--purple);
    --class: var(--blue);
    --string: var(--yellow);
    --string-type: var(--purple);
    --regex: var(--cyan);
    --symbol: var(--cyan);
    --function: var(--green);
    --object-type: var(--cyan);
    --object: var(--blue);
    --interactive: var(--base0E);
    --deprecated: var(--base0F);

    /* --indent-multiplier: 1; */
    --indent: calc(0.5em * var(--indent-multiplier, 1));

    --stagger-delay: 20ms;
  }

  --ease-in-quad: cubic-bezier(0.55, 0.085, 0.68, 0.53);
  --ease-in-cubic: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  --ease-in-quart: cubic-bezier(0.895, 0.03, 0.685, 0.22);
  --ease-in-quint: cubic-bezier(0.755, 0.05, 0.855, 0.06);
  --ease-in-expo: cubic-bezier(0.95, 0.05, 0.795, 0.035);
  --ease-in-circ: cubic-bezier(0.6, 0.04, 0.98, 0.335);
  --ease-in-back: cubic-bezier(0.6, -0.28, 0.735, 0.045);

  --ease-out-quad: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-out-cubic: cubic-bezier(0.215, 0.61, 0.355, 1);
  --ease-out-quart: cubic-bezier(0.165, 0.84, 0.44, 1);
  --ease-out-quint: cubic-bezier(0.23, 1, 0.32, 1);
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
  --ease-out-circ: cubic-bezier(0.075, 0.82, 0.165, 1);
  --ease-out-back: cubic-bezier(0.175, 0.885, 0.32, 1.275);

  --ease-in-out-quad: cubic-bezier(0.455, 0.03, 0.515, 0.955);
  --ease-in-out-cubic: cubic-bezier(0.645, 0.045, 0.355, 1);
  --ease-in-out-quart: cubic-bezier(0.77, 0, 0.175, 1);
  --ease-in-out-quint: cubic-bezier(0.86, 0, 0.07, 1);
  --ease-in-out-expo: cubic-bezier(1, 0, 0, 1);
  --ease-in-out-circ: cubic-bezier(0.785, 0.135, 0.15, 0.86);
  --ease-in-out-back: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.ampled-json-inspect code {
  all: unset;
}

.ampled-json-inspect {
  font-size: 12px;
  box-sizing: border-box;
  color: var(--fg);
  font-family: monospace;
  line-height: 1.5em;
  white-space: nowrap;
  background-color: var(--bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  text-overflow: ellipsis;
  /* max-width: min-content; */
  position: relative;
  min-width: 360px;
  width: 100%;
  /* width: calc(auto, size); */
  /* transition: 1s linear; */

  &.fixedBottom {
    position: fixed;
    max-width: 40vw;
    bottom: 0;
    left: 0;
    max-height: 100vh;
    height: max-content;
    opacity: 0.8;
    /* max-height: 3em; */
    z-index: 9999;

    /* .indent {
      display: none;
    } */

    &:hover {
      opacity: 1;
    }

    .indent {
      max-height: calc(1.5rem * 20);
      overflow-y: auto;
    }
  }

  &.noanimate {
    * {
      transition: none !important;
      animation: none !important;
    }
  }

  small {
    font-size: 0.8333em;
  }

  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
  }

  .handle {
    aspect-ratio: 1/1;
    z-index: 20;
    border: 1px solid var(--border-color);
    border-top-width: 0;
    border-right-width: 0;
    background-color: var(--bg-lighter);
    padding: 0.5em;
    height: 2em;
    width: 2em;
    text-align: center;
    font-size: 0.8em;
    line-height: 1;
    position: absolute;
    top: 0;
    right: 0;
    cursor: move;
  }

  .body {
    position: relative;
    overflow: auto;
    width: 100%;
    height: 100%;
    padding: 1em;
    /* padding-left: 2em; */
  }

  button {
    all: unset;
    box-sizing: border-box;
    cursor: pointer;
  }

  .length {
    color: var(--comments);
    font-style: italic;
  }

  .title-bar,
  .line {
    .tools {
      transition: 0.3s ease-in-out;
      padding-inline: 0.5em;
      opacity: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0.25em;
      max-height: 1.5em;
      overflow: visible;
      /* margin-left: 2em; */

      button {
        transition: all 300ms ease-in-out;
        height: 1.75em;
        width: 1.75em;
        color: var(--interactive);

        &.copied {
          color: var(--green) !important;
        }

        &:hover,
        &:focus-visible {
          color: var(--fg);
        }
      }
    }

    &:hover,
    &:focus-within {
      .tools {
        opacity: 1;
      }
    }
  }

  .indent {
    /* margin-block: calc(var(--indent) * 0.5); */
    margin-left: calc(var(--indent) * 1.5);
    padding-block: calc(var(--indent) * 0.5);
    border-left: 1px solid var(--border-color);
    /* border-radius: 2px; */
    transition: 0.4s var(--ease-out-back);
    overflow-x: visible;
    overflow-y: auto;
    height: calc-size(auto, size);
    opacity: 1;

    .entry {
      transition: all 0.5s var(--ease-out-circ); /* arriving */
      transition-delay: calc(0s + calc(var(--stagger-delay) * calc(var(--index) + 1)));
      margin-left: 0;
      opacity: 1;
      transform: translateX(0);
      height: calc-size(auto, size);

      .dash,
      button.collapse {
        transition: all 0.4s var(--ease-out-back);
        transition-delay: calc(0.3s + calc(40ms * calc(var(--index))));
        opacity: 1;
      }
    }

    &.collapsed {
      margin-block: 0;
      padding: 0;
      transition-delay: 0;
      height: 0;
      border-block: 0;

      .entry {
        transition: none;
        transition: all 0.3s var(--ease-out-back); /* leaving */
        opacity: 0;
        transform: translateX(2em);

        .dash,
        button.collapse {
          transition-duration: 0;
          opacity: 0;
          transition-delay: 0;
        }
      }
    }

    &.string {
      --border-color: var(--string);
      overflow-x: auto;
    }

    &.error {
      --border-color: var(--error);
    }
  }

  .key {
    &.number {
      color: var(--number);
    }

    &.string {
      color: var(--fg);
    }

    &.symbol {
      color: var(--symbol);
    }
  }
}

.ampled-json-inspect::selection,
.ampled-json-inspect ::selection {
  background-color: var(--selection);
  /* color: var(--error); */
}

.ampled-json-inspect .type {
  color: var(--class);
  margin-top: 1px;
  font-size: 0.857em;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  line-height: 1.5em;
  padding-block: 2px;
  height: 1em;
  border-radius: 2px;
  vertical-align: bottom;

  &.null,
  &.undefined {
    background-color: var(--bg-lighter);
    color: var(--fg);
    padding: 4px 0.5em;
    height: 1.25em;
  }

  &.string {
    color: var(--string-type);
  }

  &.number {
    color: var(--number-type);
  }

  &.boolean {
    color: var(--number-type);
  }

  &.array {
    color: var(--object-type);
  }

  &.object {
    color: var(--object-type);
  }

  &.bigint {
    color: var(--number-type);
  }

  &.error,
  &.InspectError {
    color: var(--error);
  }

  &.regexp {
    color: var(--function);
  }

  &.date {
    color: var(--cyan);
  }

  &.function {
    color: var(--keyword);
  }

  &.symbol {
    color: var(--orange);
  }

  &.map {
    color: var(--class);
  }

  &.url {
    color: var(--class);
  }

  &.urlsearchparams {
    color: var(--class);
  }

  &.set {
    color: var(--class);
  }

  &.class {
    color: var(--keyword);
  }
}

.ampled-json-inspect .value {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 1000px;

  &.string {
    color: var(--string);
  }

  &.multi {
    /* margin: 0; */
    /* padding: 0; */
    padding: var(--indent);
    padding-left: calc(var(--indent) * 2);
    white-space: pre;
    text-overflow: unset;
    overflow-x: auto;
    overflow-y: clip;
    transition: 0.2s ease-in-out;
  }

  &.number {
    color: var(--number);
  }

  &.boolean {
    color: var(--boolean);
  }

  &.array {
    color: var(--object);
  }

  &.object {
    color: var(--object);
  }

  &.bigint {
    color: var(--number);
  }

  &.error {
    color: var(--error);
  }

  &.regexp {
    color: var(--regex);
  }

  &.date {
    color: var(--object);
  }

  &.function {
    color: var(--function);

    &.hl {
      color: var(--fg);
      white-space: pre;
      padding: var(--indent);
      padding-left: calc(var(--indent) * 2);

      .title.function_ {
        color: var(--function);
      }

      .title.class_ {
        color: var(--class);
      }

      .tag {
        color: var(--fg);
      }

      .keyword {
        color: var(--red);
      }

      .name {
        color: var(--red);
      }

      .attr {
        color: var(--green);
      }

      .number {
        color: var(--purple);
      }

      .string {
        color: var(--yellow);
      }
    }
  }

  &.symbol {
    color: var(--symbol);
  }

  &.map {
    color: var(--object);
  }

  &.class {
    color: var(--class);
  }

  &.html {
    /* background-color: var(--bg); */
    padding-inline: 0.5em;
    border-radius: 4px;

    .tag {
      color: var(--fg);
    }

    .name {
      color: var(--red);
    }

    .attr {
      color: var(--green);
    }

    .string {
      color: var(--yellow);
    }
  }

  &.promise {
    &.rejected {
      color: var(--red);
    }
    &.pending {
      color: var(--yellow);
    }
    &.fulfilled {
      color: var(--green);
    }
  }

  .funcbody {
    color: var(--fg);
  }
}

.ampled-json-inspect a {
  color: inherit;
  text-decoration: none;

  &:hover {
    text-decoration: underline;
  }
}

@keyframes flash {
  /* 0% {
  } */

  10% {
    color: var(--bg-light);
    /* transform: scale(100, 50); */
  }

  100% {
    /* rotate: 360deg; */
    /* color: var(--comments); */
  }
}

.flash-update {
  transform-origin: center left;
  /* animation: flash 500ms; */
  animation: flash ease-out 500ms 1;
  /* animation-name: flash;
  animation-duration: 500ms;
  animation-iteration-count: 1;
  animation-timing-function: linear; */
}
